Grammar:		DataElement 5.0
Namespace:		cimi.clinicalcommondatastructures
Description:	"The Common Data Structure Package holds a number of data structures used by other classes in the model."
Uses:			cimi.datatypes, cimi.foundation, cimi.clinicalprovenance

Element:		Annotation
Based on:		CLUSTER
Concept:		TBD
Description:	"Text node with optional attribution"
1..1			Content
0..1			Authored

Element:		Authored
Concept:		TBD
Description:	"Provenance information specific to the assertion being made (e.g., the author(s), when authored, the location where the assertion was made, etc...)."
Value:			Attribution

Element:		Content
Concept:		TBD
Description:	"The annotation's text content."
Value:			TEXT
// BALLOT: Annotation.Content should be type PlainText, not TEXT. Putting a code (CodedText) here would not be consistent with the intent of Annotation.

Element:		Age
Based on:		CLUSTER
Concept:		TBD
Description:	"Type for the capture of age-related information."
Value:			Duration
0..1			AgeGroup
// BALLOT:	Age requires a numerical age, but it would be useful to be able to specify Age only as an AgeGroup, without a numerical age. For example, in KnownOrSuspectedPresence context, AgeAtOnset could then be "child" or "adolescent", without requiring more specificity. I think this is frequently useful, especially in terms of patient history.

Element:		AgeGroup
Concept:		TBD
Description:	"Classification of age - e.g., neonatal, infant, pre-adolescent, etc..."
Value:			CodedText

Abstract Element:	PartyName
Based on:		CLUSTER
Concept:		TBD
Description:	"Abstract supertype for the name of a party."
0..*			Identifier
// BALLOT: Why does PartyName require an Identifier? A Party may have an identifier (e.g., an NPI for a practitioner) but I can't think of a use case where the NAME of the party has an identifier.

Element:		ActorName
Based on:		PartyName	
Concept:		TBD
Description:	"The name of an actor - typically either the name of a person or of an organization."
0..1			NameAsText
0..*			Use

Element:		NameAsText
Concept:		TBD
Description:	"The name of an actor - typically either the name of a person or of an organization."
Value:			PlainText

Element:		Use
Based on:		CLUSTER
Concept:		TBD
Description:	"Structure capturing usage preferences for, say, a name, an address, or contact information."
Value:			TEXT
0..1			DateRange  // DELTA: Changed ActorName.Use.DateTimeRange to DateRange.
0..*			Identifier
// BALLOT: Why does Use (ActorName.Use) require an Identifier? PartyName already has an Identifier, so now we have two sets of identifiers associated with the name of an Actor: ActorName.Identifer and ActorName.Use.Identifier. ActorName.Use has a code which tells you how the name is used, and that should be sufficient.
// BALLOT: Change ActorName.Use.DateTimeRange to DateRange. We just need effectives dates, not times (Organization.DateRange establishes the precedent).

Element:		BaseOrganizationName
Based on:		ActorName

// BALLOT: I have trouble understanding the thinking behind the hierarchy of organization names under ActorName. First there is BaseOrganizationName and then GenericOrganizationName. Is a GenericOrganizationName really a subtype of BaseOrganizationName? The only difference is that the former has a list of "parts". What is the use case for splitting an organization name into parts? Does having parts make an organization name more generic?

// BALLOT: BasePersonName.PreferredFlag can probably be eliminated because that information should be captured in ActorName.Use. 

Element:		ReferenceRange
Based on:		CLUSTER
Concept:		TBD
Description:	"A reference range for the specific instance after lookup from, say, a reference range table given specific criteria. Note that this reference range is not definitional in nature but rather refers to the reference range considered for the given observation for a subject."
0..1			ReferenceCriterion
0..1			Narrative
0..*			Criteria

Element:		ReferenceCriterion
Concept:		TBD
Description:	"Indicates whether the given range is normal, critically high, ..."
Value:			CodedText

Element:		Narrative
Concept:		TBD
Description:	"A human-oriented description of the reference range."
Value:			TEXT
// BALLOT: ReferenceRange.Narrative will never be coded, so it should be a string, not be TEXT. 

Element:		Criteria
Concept:		TBD
Description:	"The specific criteria that apply for the given reference range. For instance, reference ranges may be specified in a lookup table based on a set of criteria. If a row in this table is selected as the applicable reference range for a measurement, 'criteria' lists the specific criteria for that row in the table. E.g., reference range for post-menopausal women."
Value:			TEXT

Element:		Timing
Based on:		CLUSTER
Concept:		TBD
Description:	"A timing schedule that specifies an event that may occur multiple times"
0..*			EventTime   // DELTA: Renamed Timing.Event to Timing.EventTime
0..1			TimingRepeat  // DELTA: Cut out the middleman
0..1			TimingCode // DELTA: Changed Timing.code to Timing.TimingCode to avoid clash with the Code datatype

Element:		EventTime
Concept:		TBD
Description:	"When the event occurs"
Value:			DateTime

Element:		TimingRepeat
Concept:		TBD
Description:	"When the event is to occur + If there's an offset, there must be a when (and not C, CM, CD, CV) + period SHALL be a non-negative value + If there's a periodMax, there must be a period + If there's a durationMax, there must be a duration + If there's a countMax, there must be a count + if there's a duration, there needs to be duration units + If there's a timeOfDay, there cannot be be a when, or vice versa + if there's a period, there needs to be period units + duration SHALL be a non-negative value"
0..1			BoundsDuration
// TODO: Finish filling out TimingRepeat

Element:		BoundsDuration
Concept:		TBD
Description:	"Repeat duration."
Value:			Quantity


Element:		TimingCode	
Concept:		TBD
Description:	"Timing abbreviation."
Value:			CodedText
// BALLOT: Timing.Code - insufficient documentation ("Timing abbreviation")
			





// TODO: Finish this (many classes missing)